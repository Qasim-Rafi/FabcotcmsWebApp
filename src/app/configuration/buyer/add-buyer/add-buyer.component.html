<!-- Modal -->
<div class="modal-header">
  <button
    type="button"
    class="close"
    data-dismiss="modal"
    aria-label="Close"
    (click)="activeModal.close()"
  >
    <div aria-hidden="true">&times;</div>
  </button>

  <h5 class="modal-title">
    <i class="fa fa-plus"></i>
    Add New Buyer
  </h5>
</div>

<div class="modal-body BG pt-2r">
  <form #buyerForm="ngForm" novalidate>
    <div class="form-group row">
      <label for="name" class="col-sm-3 col-form-label text_Navy"
        ><strong>Buyer Name</strong></label
      >
      <div class="col-sm-8">
        <input
          required
          maxlength="60"
          id="buyerName"
          type="text"
          class="form-control"
          placeholder="Buyer name"
          name="buyerName"
          [(ngModel)]="data.buyerName"
          #name="ngModel"
          [ngClass]="{ error: name.invalid }"
        />
      </div>
    </div>

    <div class="form-group row">
      <label for="bill-address" class="col-sm-3 col-form-label"
        >Billing Address</label
      >
      <div class="col-sm-8">
        <textarea
          maxlength="300"
          class="form-control"
          id="buyerBillAddress"
          rows="3"
          placeholder="Buyer mailing address"
          name="buyerBillAddress"
          [(ngModel)]="data.buyerBillAddress"
          #buyerBillAddress="ngModel"
        ></textarea>
      </div>
    </div>

    <div class="form-group row">
      <label for="delivery-address" class="col-sm-3 col-form-label"
        >Delivery Address</label
      >
      <div class="col-sm-8">
        <textarea
          maxlength="300"
          class="form-control"
          id="buyerDiliveryAddress"
          rows="3"
          placeholder="Buyer delivery address"
          name="buyerDiliveryAddress"
          [(ngModel)]="data.buyerDiliveryAddress"
          #buyerDiliveryAddress="ngModel"
        ></textarea>
      </div>
    </div>

    <div class="form-group row">
      <label for="countryId" class="col-sm-3 col-form-label">Country</label>
      <div class="col-sm-8">
        <ng-select
          [(ngModel)]="data.countryId"
          required
          placeholder="-- Select --"
          name="countryId"
          #countryId="ngModel"
          [ngClass]="{ error: countryId.invalid }"
        >
          <ng-option *ngFor="let i of country" [value]="i.id"
            >{{ i.name }}
            <span class="text-muted" style="font-size: 11px"
              >( {{ i.details }} )</span
            >
          </ng-option>
        </ng-select>
      </div>
    </div>

    <div class="form-group row">
      <label for="buyerContact" class="col-sm-3 col-form-label"
        >Contact Nos.</label
      >
      <div class="col-sm-8">
        <div class="row">
          <div class="col-sm-6 fieldmrgbtm">
            <input
              pattern="[+0-9-]{7,15}"
              maxlength="15"
              minlength="7"
              class="form-control"
              id="buyerContact"
              placeholder="Primary Contact No."
              name="buyerContact"
              [(ngModel)]="data.buyerContact"
              #buyerContact="ngModel"
            />
            <p *ngIf="buyerContact.invalid">Invalid Input or Lenght</p>
          </div>
          <div class="col-sm-6">
            <input
              pattern="[+0-9-]{7,15}"
              class="form-control"
              id="buyerOtherContact"
              placeholder="Other Contact No."
              name="buyerOtherContact"
              [(ngModel)]="data.buyerOtherContact"
              #buyerOtherContact="ngModel"
            />
            <p *ngIf="buyerOtherContact.invalid">Invalid Input or Lenght</p>
          </div>
        </div>
      </div>
    </div>

    <div class="form-group row">
      <label for="buyerFax" class="col-sm-3 col-form-label">Fax Number</label>
      <div class="col-sm-8">
        <input
          pattern="[+-0-9]{0,15}"
          class="form-control"
          id="buyerFax"
          placeholder="Buyer Fax No."
          name="buyerFax"
          [(ngModel)]="data.buyerFax"
          #buyerFax="ngModel"
        />
        <p *ngIf="buyerFax.invalid">Invalid Input or Lenght</p>
      </div>
    </div>

    <div class="form-group row">
      <label for="buyerNTN" class="col-sm-3 col-form-label">NTN/GST Nos.</label>

      <div class="col-sm-8">
        <div class="row">
          <div class="col-sm-6 fieldmrgbtm">
            <input
              type="text"
              pattern="[+-a-zA-Z0-9]{0,7}"
              class="form-control"
              id="buyerNTN"
              placeholder="NTN No."
              name="buyerNTN"
              [(ngModel)]="data.buyerNTN"
              #buyerNTN="ngModel"
            />
          </div>
          <p *ngIf="buyerNTN.invalid">Invalid Input or Lenght</p>
          <div class="col-sm-6">
            <input
              pattern="[+-a-zA-Z0-9]{0,15}"
              type="text"
              class="form-control"
              id="buyerGST"
              placeholder="GST No."
              name="buyerGST"
              [(ngModel)]="data.buyerGST"
              #buyerGST="ngModel"
            />
            <p *ngIf="buyerGST.invalid">Invalid Input or Lenght</p>
          </div>
        </div>
      </div>
    </div>

    <div class="form-group row">
      <label for="buyerDetails" class="col-sm-3 col-form-label"
        >Buyer Details</label
      >
      <div class="col-sm-8">
        <textarea
          maxlength="500"
          class="form-control"
          id="buyerDetails"
          rows="4"
          placeholder="Buyer additional details here ..."
          name="buyerDetails"
          [(ngModel)]="data.buyerDetails"
          #buyerDetails="ngModel"
        ></textarea>
      </div>
    </div>

    <div class="form-check form-check-inline offset-md-3 pl-1">
      <input
        class="form-check-input check-btn"
        type="checkbox"
        name="isParentBuyer"
        [(ngModel)]="data.isParentBuyer"
      />
      <label class="form-check-label checkboxDanger1">Parent Buyer</label>
    </div>

    <div class="form-group row">
      <label for="parentBuyerId" class="col-sm-3 col-form-label"
        >Parent Buyer</label
      >
      <div class="col-sm-8">
        <ng-select
          name="parentSellerId"
          [(ngModel)]="data.parentBuyerId"
          placeholder="-- Select --"
        >
          <ng-option *ngFor="let i of buyer" [value]="i.id">
            {{ i.buyerName }}
          </ng-option>
        </ng-select>
      </div>
    </div>
  </form>
</div>

<div class="modal-footer NotBG">
  <button
    type="button"
    class="btn btn-outline-secondary noHover"
    data-dismiss="modal"
    (click)="activeModal.close()"
  >
    Close
  </button>
  <button
    class="btn button-save"
    type="submit"
    (click)="addBuyer()"
    [disabled]="buyerForm.invalid"
  >
    Save Buyer
  </button>
</div>
