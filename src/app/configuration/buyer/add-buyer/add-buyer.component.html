<!-- Modal -->
<div class="modal-header">
  <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="activeModal.close()">
    <div aria-hidden="true">&times;</div>
  </button>

  <h5 class="modal-title">
    <i class="fa fa-plus fa-fw"></i>
    Add New Buyer
  </h5>
</div>

<div class="modal-body BG p-0">
  <form #buyerForm="ngForm" novalidate (ngSubmit)="addBuyer(buyerForm)">

    <div class="col-md-12 pt-3 pb-2">


      <div class="form-group row">
        <label for="name" class="col-sm-3 col-form-label text_Navy"><strong>Buyer Name</strong>
          <span class="required-denote">*</span>
        </label>
        <div class="col-sm-8">
          <input appAutofocus required maxlength="60" type="text" class="form-control" placeholder="Buyer name"
            name="buyerName" [(ngModel)]="data.buyerName" #buyerName="ngModel"
            [ngClass]="{ 'error': buyerForm.submitted &&  buyerName.invalid }" />

        </div>
      </div>

      <div class="form-group row">
        <label for="bill-address" class="col-sm-3 col-form-label">Billing Address</label>
        <div class="col-sm-8">
          <textarea maxlength="300" class="form-control" id="buyerBillAddress" rows="3"
            placeholder="Buyer mailing address" name="buyerBillAddress" [(ngModel)]="data.buyerBillAddress"
            #buyerBillAddress="ngModel"></textarea>
        </div>
      </div>

      <div class="form-group row">
        <label for="delivery-address" class="col-sm-3 col-form-label">Delivery Address</label>
        <div class="col-sm-8">
          <textarea maxlength="300" class="form-control" id="buyerDiliveryAddress" rows="3"
            placeholder="Buyer delivery address" name="buyerDiliveryAddress" [(ngModel)]="data.buyerDiliveryAddress"
            #buyerDiliveryAddress="ngModel"></textarea>
        </div>
      </div>

      <div class="form-group row">
        <label for="countryId" class="col-sm-3 col-form-label">Country<span class="required-denote">*</span></label>
        <div class="col-sm-8">
          <ng-select [(ngModel)]="data.countryId" required placeholder="-- Select --" name="countryId"
            #countryId="ngModel" [ngClass]="{ error: buyerForm.submitted && countryId.invalid }">
            <ng-option *ngFor="let i of country" [value]="i.id">{{ i.name }}
              <span *ngIf="i.details !=null" class="text-muted" style="font-size: 11px">{{ i.details }}</span>
            </ng-option>
          </ng-select>
        </div>
      </div>

      <div class="form-group row">
        <label for="buyerContact" class="col-sm-3 col-form-label">Contact Nos.</label>
        <div class="col-sm-8">
          <div class="row">
            <div class="col-sm-6 fieldmrgbtm">
              <input pattern="[+0-9-]{7,15}" maxlength="15" minlength="7" class="form-control" id="buyerContact"
                placeholder="Primary Contact No." name="buyerContact" [(ngModel)]="data.buyerContact"
                #buyerContact="ngModel" [ngClass]="{
                error: buyerContact.invalid && buyerForm.submitted
              }" />

            </div>
            <div class="col-sm-6">
              <input pattern="[+0-9-]{7,15}" maxlength="15" minlength="7" class="form-control" id="buyerOtherContact"
                placeholder="Other Contact No." name="buyerOtherContact" [(ngModel)]="data.buyerOtherContact"
                #buyerOtherContact="ngModel" [ngClass]="{
                error: buyerOtherContact.invalid && buyerForm.submitted
              }" />

            </div>
          </div>
        </div>
      </div>

      <div class="form-group row">
        <label for="faxNumber" class="col-sm-3 col-form-label">Fax Number</label>
        <div class="col-sm-8">
          <input pattern="[+0-9-]{5,15}" minlength="5" maxlength="15" class="form-control" id="faxNumber"
            placeholder="Buyer Fax No." name="faxNumber" [(ngModel)]="data.faxNumber" #faxNumber="ngModel"
            [ngClass]="{ error: faxNumber.invalid && buyerForm.submitted }" />

        </div>
      </div>

      <div class="form-group row">
        <label for="ntnNumber" class="col-sm-3 col-form-label">NTN/GST Nos.</label>

        <div class="col-sm-8">
          <div class="row">
            <div class="col-sm-6 fieldmrgbtm">
              <input type="text" pattern="[+0-9-]{7,15}" maxlength="7" class="form-control" id="ntnNumber"
                placeholder="NTN No." name="ntnNumber" [(ngModel)]="data.ntnNumber" #ntnNumber="ngModel"
                [ngClass]="{ error: ntnNumber.invalid && buyerForm.submitted }" />
            </div>

            <div class="col-sm-6">
              <input pattern="[+0-9-]{7,13}" type="text" maxlength="7" class="form-control" id="gstNumber"
                placeholder="GST No." name="gstNumber" [(ngModel)]="data.gstNumber" #gstNumber="ngModel"
                [ngClass]="{ error: gstNumber.invalid && buyerForm.submitted }" />
            </div>
          </div>
        </div>
      </div>

      <div class="form-group row">
        <label for="buyerDetails" class="col-sm-3 col-form-label">Buyer Details</label>
        <div class="col-sm-8">
          <textarea maxlength="500" class="form-control" id="buyerDetails" rows="4"
            placeholder="Buyer additional details here ..." name="buyerDetails" [(ngModel)]="data.buyerDetails"
            #buyerDetails="ngModel"></textarea>
        </div>
      </div>

      <div class="form-check form-check-inline offset-md-3 pl-1">
        <input class="form-check-input check-btn" id="active" type="checkbox" name="isParentBuyer"
          [(ngModel)]="active" />
        <label for="active" class="form-check-label checkboxDanger1">Parent Buyer</label>
      </div>

      <div class="form-group row">
        <label for="parentBuyerId" class="col-sm-3 col-form-label">Parent Buyer</label>
        <div class="col-sm-8">
          <ng-select name="parentBuyerId" [(ngModel)]="data.parentBuyerId" placeholder="-- Select --">
            <ng-option *ngFor="let i of buyer" [value]="i.id">
              {{ i.buyerName }}
            </ng-option>
          </ng-select>
        </div>
      </div>

    </div>


    <div class="modal-footer NotBG">
      <button type="button" class="btn btn-outline-secondary noHover" data-dismiss="modal"
        (click)="activeModal.close()">
        Close
      </button>
      <button class="btn button-save" type="submit">
        Save Buyer
      </button>
    </div>
  </form>
</div>