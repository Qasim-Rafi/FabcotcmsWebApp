<ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "medium" color = "#fff" type = "line-spin-fade" [fullScreen] = "true"><p style="color: white" > Loading... </p></ngx-spinner>

<div class="content-header">
    <div class="row">
        <div class="col-sm-12 col-md-6 col-lg-8">
            <h2 class="row wrapper page-header font-weight-light">
                <b>Bill {{printData.billNumber}}</b>
                <div class="ml-2 descr">
                    Billing detail of Bill <b>{{printData.billNumber}}</b> against Contract <b>{{printData.contractNumber}}</b>
                </div>
            </h2>
        </div>

        <div class="col-sm-12 col-md-6 col-lg-4">
            <ol class="breadcrumb flt-RnL">
                <li class="breadcrumb-item"><a href="#">Billing and Payment</a></li>
                <li class="breadcrumb-item active" aria-current="page">
                    Active Bills
                </li>
                <li class="breadcrumb-item active" aria-current="page">
                    Bill
                </li>
            </ol>
        </div>
    </div>
</div>



<div class="card ibox-content">
    <div class="panel blank-panel">
        <div class="panel-heading">


            <div class="row mb-3">
                <div class="col-md-6">
                    <span class="text-muted">Supplier Side Bill
                    </span>
                </div>
                <div class="col-md-6 mrg-tsm">
                    <button type="button" *ngIf = "loggedInDepartmentName != 'Fabric Export' && loggedInDepartmentName != 'Yarn Export' && loggedInDepartmentName != 'Yarn Import' " class="btn btn-primary btn-md float-right" (click)="print(printData)">
                        <i class="fa fa-print"></i> Print Bill
                    </button>
                    <button type="button" *ngIf = "loggedInDepartmentName == 'Fabric Export' " class="btn btn-primary btn-md float-right" (click)="print2(printData)">
                        <i class="fa fa-print"></i> Print Bill
                    </button>
                    <button type="button" *ngIf = "loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import' " class="btn btn-primary btn-md float-right" (click)="print3(printData)">
                        <i class="fa fa-print"></i> Print Bill
                    </button>
                </div>
            </div>


     

            <div class="row mb-3">
                <div class="col-md-8">
                    <!-- <p class="font float-right clr" *ngIf = "loggedInDepartmentName != 'Fabric Export' && loggedInDepartmentName != 'Yarn Export'"><strong>Fabcot International </strong>
                    </p> -->
                    <p class="font float-right clr" *ngIf = "loggedInDepartmentName == 'Yarn Local'" ><strong>Fabcot International ® </strong>
                    </p>
                    <p class="font float-right clr"  *ngIf = "loggedInDepartmentName != 'Yarn Local'"><strong>Fabcot International FZE® </strong>
                    </p>
                </div>
                
             
                <div class="col-md-8">
                    <span class="float-right" *ngIf = "loggedInDepartmentName != 'Fabric Export' && loggedInDepartmentName != 'Yarn Export'  && loggedInDepartmentName != 'Yarn Import'">
                        {{printData.fabcotBranchDescription}}
                    </span>
                    <span class="float-right" *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'" >
                       Flexi Office, RAKEZ Business ZONE F-Z RAK, United Arab Emirates.
                    </span>
                </div>
                <div class="col-md-7" *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export'">
                   
                    <span class="float-right" *ngIf = "expordtcountrycondition != 'asif manzoor'">
                        Email: Sohail@fabcot.net 
                    </span>
                    <span class="float-right" *ngIf = "expordtcountrycondition == 'asif manzoor'">
                        Email: Asif@fabcot.net
                    </span>
                    
                </div>
                <div class="col-md-7" *ngIf = "loggedInDepartmentName == 'Yarn Import'">
                   
                    <span class="float-right" >
                        Email: faisal@fabcot.net
                    </span>
                </div>
            </div>


            <div class="clearfix">

                <div class="float-right">

                    <span class="text-font1" *ngIf = "loggedInDepartmentName == 'Fabric Export'">
                        FABRIC EXPORT
                    </span>
                    <br *ngIf = "loggedInDepartmentName == 'Fabric Export'">
                    <span class="text-font1" *ngIf = "loggedInDepartmentName == 'Yarn Export'">
                        YARN EXPORT
                    </span>
                    <span class="text-font1" *ngIf = "loggedInDepartmentName == 'Yarn Import'">
                        YARN IMPORT
                    </span>
                    <br *ngIf = "loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'">
                    <span class="text-font1">
                        Bill No.: <span class="weight">{{printData.billNumber}}</span>
                    </span>
                    <br>
                    <span class="text-font1">
                        Bill Dt.: <span class="bold text-font1">{{printData.billDate}}</span>
                    </span>
                </div>

                <div class="float-left">
                    <span class="text-font1" >
                        Seller: <span class="bold text-font1">{{printData.sellerName}}</span>
                    </span>
                <br>
                    <span class="text-font1"  >
                        Buyer: <span class="bold text-font1">{{printData.buyerName}}</span>
                    </span>
                    
                    <br>

                    <span class="text-font1">
                        Fabcot Contract No: <span class="bold text-font1"> {{printData.contractNumber}}</span>
                    </span>
                    <br>
                    <span class="text-font1">
                        Supplier Contract No: <span class="bold text-font1"> {{printData.supplierContractNumber }}</span>
                    </span>
                    <br>
                    <span class="text-font1">
                        Contract Date: <span class="bold text-font1">{{printData.contractDate}}</span>
                    </span>
                    <br>
                    <span class="text-font1" *ngIf = "loggedInDepartmentName != 'Yarn Export' && loggedInDepartmentName != 'Yarn Import'">
                        Article: <span class="bold text-font1 ">{{printData.contractArticleName}}</span>
                    </span>
                    <span class="text-font1" *ngIf = "loggedInDepartmentName == 'Fabric Export'">
                        Weave: <span class="bold text-font1 ">{{printData.weaveName}}</span>
                    </span>
                </div>

            </div>

            <table class="table">
                <tr>
                    <!-- <th>Description</th> -->
                    <th>Sale Invoice #</th>
                    <th>Sale Invoice Date</th>
                    <th *ngIf = "loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'">Article</th>

                    <th>Quantity</th>
                    <th>Rate({{printData.currencyName}})</th>
                    <th>Invoice Amount({{printData.currencyName}})</th>
                    <th>Commission</th>
                    <!-- <th>TAX</th> -->
                    <th>Bill Amount({{printData.currencyName}})</th>




                </tr>
                <tr *ngFor="let i of printData.contractSaleInvoices">
                    <!-- <td>{{i.description}}</td> -->
                   
                    <td>{{i.saleInvoiceNo}}</td>
                    <td>{{i.saleInvoiceDateToDisplay}}</td>
                    <td *ngIf = "loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'">{{i.articleName}}</td>

                    <td>{{i.quantity}}&nbsp;{{i.quanityUOM}} <br>
                     <small class="text-danger" *ngIf="i.debitQuantity != '0.00' ">
                         Db:({{i.actualQuantity}} - {{i.debitQuantity}})&nbsp;{{i.quanityUOM}}</small>
                    </td>
                    <td>{{i.rate}} <span *ngIf = "i.quanityUOM != null"> /  {{i.quanityUOM}} </span></td>

                    <td> <span *ngIf = "loggedInDepartmentName == 'Yarn Import' && printData.currencyName == 'USD' "> $ &nbsp;</span> {{i.amount}} <br>
                    <small class="text-danger" *ngIf="i.debitAmount != 0.00">
                        Db:({{i.actualAmount}} - {{i.debitAmount}})</small>
                    </td>
                    <td>{{i.commission}} &nbsp; {{i.commissionUnit}} </td>
                    <!-- <td>{{i.taxAmount}}</td> -->

                    <td>  <span *ngIf = "loggedInDepartmentName == 'Yarn Import' && printData.currencyName == 'USD'">$ &nbsp;</span> {{i.billAmount}}</td>

                </tr>
            </table>
 
            <br *ngIf = "loggedInDepartmentName != 'Fabric Export'  ">
            <div class="float-right">
                <span class=" bold text-font1" *ngIf = "loggedInDepartmentName != 'Fabric Export' && loggedInDepartmentName != 'Yarn Export' && loggedInDepartmentName != 'Yarn Import' ">
                    Sub Total: <span class="text-font1 underline">{{printData.currencyName}}  {{printData.totalCalculation }}</span>
                </span>
                <br *ngIf = "loggedInDepartmentName != 'Fabric Export' ">
                <span class=" bold text-font1" *ngIf = "loggedInDepartmentName != 'Fabric Export' && loggedInDepartmentName != 'Yarn Export' && loggedInDepartmentName != 'Yarn Import' ">
                    TAX : <span class="text-font1 underline">{{printData.currencyName}}  {{printData.taxAmount}}</span>
                </span><br *ngIf = "loggedInDepartmentName != 'Fabric Export' && loggedInDepartmentName != 'Yarn Import' && loggedInDepartmentName != 'Yarn Export'">
                <span class=" bold text-font1">
                    TOTAL : <span class="bold text-font1 underline">{{printData.currencyName}}  {{printData.totalCalculation}}</span>
                </span>
            </div>
            <div class=" float-left text-font1">
                <span class=" bold text-font1">
                    Quantity: <span class="text-font1 underline">  {{printData.quantitySum}} {{printData.quanityUOM}}</span>
                </span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <span class=" bold text-font1" *ngIf = "loggedInDepartmentName != 'Yarn Import'">
                    SI Amount: <span class="text-font1 underline">{{printData.currencyName}} &nbsp; {{printData.amountsum}}</span>
                </span>
            </div>
            <br>
            <br>
            <div class="float-left text-font1">
            <span class=" float-left text-font1">
                Amount In Words:<span class="bold text-font1 underline">&nbsp;&nbsp; {{printData.updatedByName}}</span>
            </span>
        </div>
            <br>
   
            <br *ngIf = "loggedInDepartmentName != 'Fabric Export' && loggedInDepartmentName != 'Yarn Export'  && loggedInDepartmentName != 'Yarn Import'"><br>
            <span class=" float-left text-font1" *ngIf = "loggedInDepartmentName != 'Fabric Export' && loggedInDepartmentName != 'Yarn Export' && loggedInDepartmentName != 'Yarn Import'">
                For<span class="bold text-font1">&nbsp;FABCOT INTERNATIONAL ®</span>
            </span>
            <br *ngIf = "loggedInDepartmentName != 'Fabric Export' && loggedInDepartmentName != 'Yarn Export' && loggedInDepartmentName != 'Yarn Import'"><br *ngIf = "loggedInDepartmentName != 'Fabric Export' && loggedInDepartmentName != 'Yarn Export' && loggedInDepartmentName != 'Yarn Import'"><br *ngIf = "loggedInDepartmentName != 'Fabric Export' && loggedInDepartmentName != 'Yarn Export' && loggedInDepartmentName != 'Yarn Import'"><br *ngIf = "loggedInDepartmentName != 'Fabric Export' && loggedInDepartmentName != 'Yarn Export' && loggedInDepartmentName != 'Yarn Import'"><br *ngIf = "loggedInDepartmentName != 'Fabric Export' && loggedInDepartmentName != 'Yarn Export' && loggedInDepartmentName != 'Yarn Import'">

        </div>

        <br *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export'  || loggedInDepartmentName == 'Yarn Import'">
        <br *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'"> 
                      <span class=" float-left text-font1" *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'">
                        Our Bank detail as under for FTT:
                    </span>
                   <br *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'">
                    <br *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'">
                    <span class=" float-left padLeft   " *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'">
                        Title of Account:<span >&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; {{printData.accountName}}    </span>
                    </span>
                    <br *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'">
        
                    <span class=" float-left padLeft " *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'">
                        Address:<span> &nbsp;&nbsp;  &nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;  {{printData.address}}  </span>
                    </span>
                    <br *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'">
        
                    <span class=" float-left padLeft " *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'">
                        Bank Name:<span> &nbsp;&nbsp; &nbsp;&nbsp;   &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; {{printData.bankName}}  </span>
                    </span>
                    <br *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'">
                    <!-- <span class=" float-left ">
                        Bank Account Number:<span> &nbsp;&nbsp;</span>
                    </span><br> -->
                    <span class=" float-left padLeft " *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'">
                        IBAN Number:<span> &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;  {{printData.iban}}  </span>
                    </span><br *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import' ">
                    <span class=" float-left padLeft " *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'">
                        Swift Code:<span>  &nbsp;   &nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;   {{printData.swiftCode}} </span>
                    </span><br *ngIf = "loggedInDepartmentName == 'Fabric Export'">
                    <!-- <span class=" float-left padLeft " *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export'">
                        Bank Branch:<span> &nbsp; &nbsp;&nbsp;  &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;   {{printData.}} </span>
                    </span><br *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export'"> -->
                    <span class=" float-left  padLeft" *ngIf = "loggedInDepartmentName == 'Fabric Export' ">
                        Account Type:<span>&nbsp; &nbsp;  &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;   {{printData.type}} </span>
                    </span><br *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import' ">
                    <span class=" float-left padLeft " *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'">
                        Bank Address:<span> &nbsp;&nbsp;  &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;  {{printData.bankAddress}}  </span>
                    </span>
                    <br *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'">
                  
                    <br *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'"><br *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'">
                    <span class=" float-left text-font1" *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'">
                        For<span class="bold text-font1">&nbsp;FABCOT INTERNATIONAL ®</span>
                    </span>
                    <br *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'"><br *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'"><br *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'"><br *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'"><br *ngIf = "loggedInDepartmentName == 'Fabric Export' || loggedInDepartmentName == 'Yarn Export' || loggedInDepartmentName == 'Yarn Import'">





    </div>
</div>




<!-- <div *ngFor = "let x of printData" >
<p>{{x.sellerName}}</p>
<p style="page-break-after: always;">&nbsp;</p>
<br>
<hr>
</div> -->




