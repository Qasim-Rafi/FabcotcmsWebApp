<ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "medium" color = "#fff" type = "line-spin-fade"
 [fullScreen] = "true"><p style="color: white" > Loading... </p></ngx-spinner>
<div class="modal-header">
  <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="activeModal.close()">
    <div aria-hidden="true">&times;</div>
  </button>

  <h5 class="modal-title" *ngIf="statusCheck == 'add'">
    <i class="fas fa-plus"></i>
    Add New Sale Invoice Item
  </h5>
  <h5 class="modal-title" *ngIf="statusCheck == 'edit'">
    <i class="fas fa-edit"></i>
    Edit Sale Invoice Item
  </h5>
</div>



<div class="modal-body BG p-0">
  <form #saleInvoiceItem="ngForm" novalidate>

    <div class="col-md-12 pt-3 pb-2">

      <div class="form-group row">
        <label for="invoiceItem" class="col-sm-3 col-form-label text_Navy">Invoice Item</label>
        <div class="col-sm-7">

          <ng-select (change)="rate($event)" required name="contractItemId" placeholder="-- Select --" #contractItemId="ngModel" [ngClass]="{ 'error':  contractItemId.invalid && saleInvoiceItem.submitted}"
            [(ngModel)]="data.contractItemId">
            <ng-option *ngFor="let i of itemData" [value]="i.id">{{ i.description }}
            </ng-option>
          </ng-select>

        </div>
      </div>

      <div class="form-group row">
        <label for="quantity" class="col-sm-3 col-form-label text-Navy">Quantity</label>
        <div class="col-sm-7">
          <input required type="text" (keyup)="keyup($event)"  placeholder="Quantity no." class="form-control" [(ngModel)]="data.quatity" [ngClass]="{ 'error':  quatity.invalid && saleInvoiceItem.submitted}"
            name="quatity" #quatity="ngModel">

        </div>
      </div>

      <div class="form-group row">
        <label for="Amount" class="col-sm-3 col-form-label ">Amount</label>
        <div class="col-sm-7">
          <!-- <input type="text" class="form-control" placeholder="Amount" readonly> -->
          <input disabled type="number" placeholder="Amount" class="form-control" [(ngModel)]="data.amount" name="amount">
        </div>
      </div>

      <div class="form-group row">
        <label for="inputEmail3" class="col-md-3 col-form-label
             control-label">Remarks</label>
        <div class="col-md-7">
          <textarea class="form-control" rows="4" placeholder="Invoice Item additional details here..."
            name="saleInvoiceItemRemarks" [(ngModel)]="data.saleInvoiceItemRemarks"></textarea>
        </div>
          
      </div>
      </div>



      <div class="modal-footer NotBG">
        <button type="button" class="btn btn-outline-secondary noHover" data-dismiss="modal" (click)="activeModal.close()">
          Close
        </button>
        <button class="btn button-save" type="submit" (click)="addSaleInvoiceItem()" *ngIf = "statusCheck == 'add'" >
          Save
        </button>
        <button class="btn button-save" type="submit" *ngIf = "statusCheck == 'edit'"  (click)="updateInvoiceItem()">
          Update Item
        </button>
     
      </div>


    </form>
  </div>
  

